{% extends "base.html" %}

{% block title %}Settings{% endblock %}

{% block footer %}

{% endblock %}

{% block body %}
<main>
    <div class="container">

        <div class="row">
            <div class="col-12 col-md-10 bg-budgetOpacity text-center mr-auto ml-auto interval">
                <form class="form-bloc p-4 " method="" action="">
                    <h2 style="color: white">USTAWIENIA</h2>

                    <!--                        MODAL FOR EDITION INCOME CATEGORY -->
                    <div class="modal fade" id="editIncomeModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="myEditIncomeModalLabel">Edycja kategorii</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="text-left ml-2 mr-2">
                                    <label class="mt-2 customText">Nazwa kategorii: </label>
                                    <input type="textarea" class="col-12 form-control" autofocus>
                                </div>

                                <div class="modal-footer">
                                    <input name="update" type="submit" class="col-6 btn btn-success" value="ZMIEŃ" />
                                    <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--                        MODAL FOR ADDING INCOME CATEGORY -->
                    <div class="modal fade" id="addIncomeCategoryModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="myAddingIncomeCategoryModalLabel">Dodaj kategorię</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="text-left ml-2 mr-2">
                                    <label class="mt-2 customText">Nazwa kategorii: </label>
                                    <input type="textarea" class="col-12 form-control" autofocus>
                                </div>

                                <div class="modal-footer">
                                    <input name="update" type="submit" class="col-6 btn btn-success" value="DODAJ" />
                                    <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                </div>
                            </div>
                        </div>
                    </div>

<!--                        MODAL FOR EDITION EXPENSE CATEGORY -->
                        <div class="modal fade" id="editExpenseModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="myModalLabel">Edycja kategorii</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="text-left ml-2 mr-2">
                                        <label class="mt-2 customText">Nazwa kategorii: </label>
                                        <input type="textarea" class="col-12 form-control" autofocus>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="switchLimitOn" onclick="this.form.elements['editionLimitAmount'].disabled = !this.checked" >
                                                Włącz limit dla kategorii
                                            </label>
                                            <p>Ustaw miesięczny limit wydatków dla kategorii: </p>
                                            <input type="value" class="form-control" placeholder="Wpisz kwotę" name="editionLimitAmount" disabled>
                                        </div>
                                    </div>

                                    <div class="modal-footer">
                                        <input name="update" type="submit" class="col-6 btn btn-success" value="ZMIEŃ" />
                                        <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                    </div>
                                </div>
                            </div>
                        </div>

<!--                    MODAL FOR ADDING EXPENSE CATEGORY -->

                    <div class="modal fade" id="addExpenseCategoryModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="addIncomeExpenseCategoryModalLabel">Dodaj kategorię</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="text-left ml-2 mr-2">
                                    <label class="mt-2 customText">Nazwa kategorii: </label>
                                    <input type="textarea" class="col-12 form-control" autofocus>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="switchLimitOn" onclick="this.form.elements['addingLimitAmount'].disabled = !this.checked" >
                                            Włącz limit dla kategorii
                                        </label>
                                        <p>Ustaw miesięczny limit wydatków dla kategorii: </p>
                                        <input type="value" class="form-control" placeholder="Wpisz kwotę" name="addingLimitAmount" disabled>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <input name="update" type="submit" class="col-6 btn btn-success" value="DODAJ" />
                                    <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                </div>
                            </div>
                        </div>
                    </div>

<!--                    MODAL FOR EDITION PAYMENT METHOD -->

                    <div class="modal fade" id="paymentMethodModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="paymentMethodModalLabel">Edycja metod płatności</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="text-left ml-2 mr-2">
                                    <label class="mt-2 customText">Nazwa metody: </label>
                                    <input type="textarea" class="col-12 form-control" autofocus>
                                </div>

                                <div class="modal-footer">
                                    <input name="update" type="submit" class="col-6 btn btn-success" value="ZMIEŃ" />
                                    <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                </div>
                            </div>
                        </div>
                    </div>

<!--                    MODAL FOR ADDING PAYMENT METHOD-->

                    <div class="modal fade" id="addPaymentMethodModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="addPaymentMethodModalLabel">Dodaj metodę płatności</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="text-left ml-2 mr-2">
                                    <label class="mt-2 customText">Nazwa metody: </label>
                                    <input type="textarea" class="col-12 form-control" autofocus>
                                </div>

                                <div class="modal-footer">
                                    <input name="update" type="submit" class="col-6 btn btn-success" value="DODAJ" />
                                    <input type="submit" class="col-6 btn btn-danger" data-dismiss="modal" value="ZAMKNIJ" />
                                </div>
                            </div>
                        </div>
                    </div>

                        <button class="col-12 form-group mt-3 p-2 btn-success" type="button" data-toggle="collapse" data-target="#headingIncomes">
                            FORMATUJ KATEGORIE PRZYCHODÓW
                        </button>

                        <div class="collapse multi-collapse" id="headingIncomes">
                            <div class="card card-body text-left">
                                <ul class="list-group rounded font-weight-bold">
                                    {% for category in incomesCategory %}
                                        <li class="list-group-item border border-success rounded bg-budgetOpacity mt-1">
                                            {{ category.0 }}
                                            <button class="btn-danger float-right rounded ml-1" type="submit" value="delete"><i class="icon-trash-empty"></i></button>
                                            <button class="btn-success float-right rounded"
                                                    data-toggle="modal" data-target="#editIncomeModal" type="button" value="modificate">
                                                <i class="icon-pencil"></i>
                                            </button>
                                        </li>
                                    {% endfor %}
                                </ul>
                                <button class="mt-2 btn-success rounded" data-toggle="modal" data-target="#addIncomeCategoryModal" type="button">
                                    <i class="icon-plus"></i>
                                    Dodaj nową kategorie
                                </button>
                            </div>
                        </div>


                        <button class="col-12 form-group mt-3 p-2 btn-success" type="button" data-toggle="collapse" data-target="#headingExpenses">
                            FORMATUJ KATEGORIE WYDATKÓW
                        </button>
                        <div class="collapse multi-collapse" id="headingExpenses">
                            <div class="card card-body text-left">
                                <ul class="list-group rounded font-weight-bold">
                                    {% for category in expensesCategory %}
                                        <li class="list-group-item border border-success rounded bg-budgetOpacity mt-1">
                                            {{ category.0 }}
                                            {% for x in limit %}
                                            {% if x.name == category.0 %}
                                            <div class="font-weight-normal d-inline-block">Limit: {{ x.expense_limit }}</div>
                                            {% endif %}
                                            {% endfor %}
                                            <button class="btn-danger float-right rounded ml-1" type="submit" value="delete"><i class="icon-trash-empty"></i></button>
                                            <button class="btn-success float-right rounded"
                                                    data-toggle="modal" data-target="#editExpenseModal" type="button" value="modificate">
                                                <i class="icon-pencil"></i>
                                            </button>
                                        </li>
                                    {% endfor %}
                                </ul>
                                <button class="mt-2 btn-success rounded" data-toggle="modal" data-target="#addExpenseCategoryModal" type="button">
                                    <i class="icon-plus"></i>
                                    Dodaj nową kategorie
                                </button>
                            </div>
                        </div>

                        <button class="col-12 form-group mt-3 p-2 btn-success" type="button" data-toggle="collapse" data-target="#headingPaymentMethods">
                            FORMATUJ METODY PŁATNOŚCI
                        </button>

                        <div class="collapse multi-collapse" id="headingPaymentMethods">
                            <div class="card card-body text-left">
                                <ul class="list-group rounded font-weight-bold">
                                    {% for method in paymentMethods %}
                                        <li class="list-group-item border border-success rounded bg-budgetOpacity mt-1">
                                            {{ method.0 }}
                                            <button class="btn-danger float-right rounded ml-1" type="submit" value="delete"><i class="icon-trash-empty"></i></button>
                                            <button class="btn-success float-right rounded"
                                                    data-toggle="modal" data-target="#paymentMethodModal" type="button" value="modificate">
                                                <i class="icon-pencil"></i>
                                            </button>
                                        </li>
                                    {% endfor %}
                                </ul>
                                <button class="mt-2 btn-success rounded" data-toggle="modal" data-target="#addPaymentMethodModal" type="button">
                                    <i class="icon-plus"></i>
                                    Dodaj nową metodę płatności
                                </button>
                            </div>
                        </div>

                        <button class="col-12 form-group mt-3 p-2 btn-success" type="button" data-toggle="collapse" data-target="#headingEditUser">
                            EDYTUJ DANE
                        </button>

                        <div class="collapse multi-collapse" id="headingEditUser">
                            <div class="card card-body text-center">
                                <div>Login:  {% for i in name %} <strong>{{ i.username }}</strong> {% endfor %}</div>
                                <div>E-mail: {% for i in email %} <strong>{{ i.email }}</strong> {% endfor %}</div>
                                <div>
                                    <button class="col-5 d-inline-block btn btn-success my-2" type="submit" style="color: white">Edytuj swoje dane</button>
                                    <button class="col-5 d-inline-block btn btn-danger my-2" type="submit" >Usuń przychody i wydatki</button>
                                </div>
                                <div>
                                    <button class="col-5 d-inline-block btn btn-success my-2" type="submit" style="color: white" >Zmień hasło</button>
                                    <button class="col-5 d-inline-block btn btn-danger my-2" type="reset" >Usuń moje konto</button>
                                </div>
                            </div>
                        </div>
                </form>
            </div>
        </div>
    </div>
</main>
{% endblock %}